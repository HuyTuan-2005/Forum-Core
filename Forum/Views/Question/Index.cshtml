@{
    ViewBag.Title = "Home Page";
}

@model IEnumerable<Forum.Models.Question>

<!-- Main Content -->
<div class="d-flex">
    <!-- Sidebar -->
    <aside class="sidebar d-none d-lg-block">
        <div class="sidebar-content">
            <h6 class="text-muted text-uppercase small mb-3 px-3">Danh mục</h6>
            <nav class="nav flex-column">
                <a class="nav-link active" href="#"><i class="bi bi-code-square me-2"></i>Lập trình</a>
                <a class="nav-link" href="#"><i class="bi bi-palette me-2"></i>Thiết kế</a>
                <a class="nav-link" href="#"><i class="bi bi-megaphone me-2"></i>Marketing</a>
                <a class="nav-link" href="#"><i class="bi bi-rocket me-2"></i>Khởi nghiệp</a>
                <a class="nav-link" href="#"><i class="bi bi-briefcase me-2"></i>Nghề nghiệp</a>
            </nav>
        </div>
    </aside>

    <!-- Sidebar Offcanvas (Mobile) -->
    <div class="offcanvas offcanvas-start" tabindex="-1" id="sidebarOffcanvas">
        <div class="offcanvas-header">
            <h5 class="offcanvas-title">Menu</h5>
            <button type="button" class="btn-close" data-bs-dismiss="offcanvas"></button>
        </div>
        <div class="offcanvas-body">
            <h6 class="text-muted text-uppercase small mb-3">Danh mục</h6>
            <nav class="nav flex-column">
                <a class="nav-link active" href="#"><i class="bi bi-code-square me-2"></i>Lập trình</a>
                <a class="nav-link" href="#"><i class="bi bi-palette me-2"></i>Thiết kế</a>
                <a class="nav-link" href="#"><i class="bi bi-megaphone me-2"></i>Marketing</a>
                <a class="nav-link" href="#"><i class="bi bi-rocket me-2"></i>Khởi nghiệp</a>
                <a class="nav-link" href="#"><i class="bi bi-briefcase me-2"></i>Nghề nghiệp</a>
            </nav>
        </div>
    </div>

    <!-- Main Content Area -->
    <main class="main-content">
        <div class="container-fluid p-4 p-lg-6">
            <!-- Header Section -->
            <div class="mb-4">
                <div class="d-flex justify-content-between align-items-start mb-3">
                    <div>
                        <h1 class="h4 mb-1">Diễn đàn thảo luận</h1>
                        <p class="text-muted small mb-0">Khám phá và tham gia thảo luận về các chủ đề công nghệ</p>
                    </div>
                    <a href="@Url.Action("Ask")" class="btn btn-primary">
                        <i class="bi bi-pencil-square me-2"></i>Tạo bài viết
                    </a>
                </div>
            </div>

            <!-- Filter Section -->
            <div class="filter-section">
                <div class="d-flex justify-content-between align-items-center mb-3">
                    <h2 class="h6 mb-0">Thảo luận</h2>
                    <div class="dropdown">
                        <button class="btn btn-outline-secondary btn-sm dropdown-toggle" data-bs-toggle="dropdown">
                            <i class="bi bi-funnel me-1"></i>Bộ lọc
                        </button>
                        <div class="dropdown-menu dropdown-menu-end p-3" style="min-width: 300px;">
                            <h6 class="dropdown-header px-0">Danh mục</h6>
                            <div class="form-check">
                                <input class="form-check-input" type="checkbox" id="cat1">
                                <label class="form-check-label" for="cat1">Lập trình</label>
                            </div>
                            <div class="form-check">
                                <input class="form-check-input" type="checkbox" id="cat2">
                                <label class="form-check-label" for="cat2">Thiết kế</label>
                            </div>
                            <hr>
                            <h6 class="dropdown-header px-0">Sắp xếp</h6>
                            <div class="form-check">
                                <input class="form-check-input" type="radio" name="sort" id="sort1" checked>
                                <label class="form-check-label" for="sort1">Mới nhất</label>
                            </div>
                            <div class="form-check">
                                <input class="form-check-input" type="radio" name="sort" id="sort2">
                                <label class="form-check-label" for="sort2">Thịnh hành</label>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Tabs -->
                <ul class="nav nav-tabs custom-tabs">
                    <li class="nav-item">
                        <a class="nav-link active" href="#">Tất cả</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="#">
                            <i class="bi bi-fire me-1"></i>Thịnh hành
                        </a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="#">Mới nhất</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="#">Chưa trả lời</a>
                    </li>
                </ul>
            </div>

            <!-- Forum Posts -->
            <div class="forum-posts mt-4">
                <!-- Post 1 - Pinned -->
                @foreach (var i in Model)
                {
                    <div class="forum-card">
                        <div class="d-flex gap-3">
                            <a href=@Url.Action("Index", "Users", new { id = i.UserId })>
                                <img src="https://images.unsplash.com/photo-1472099645785-5658abf4ff4e?w=100&h=100&fit=crop"
                                     alt="User" class="user-avatar">
                            </a>
                            <div class="flex-grow-1">
                                <div class="d-flex justify-content-between align-items-start mb-2">
                                    <a class="text-decoration-none forum-card-title" href="@Url.Action("Details", "Question", new { id = i.QuestionId })">
                                        <h5 class="forum-card-title mb-0">@i.Title</h5>
                                    </a>
                                    <span class="status-badge status-solved ms-2">Đã giải quyết</span>
                                    @*<span class="status-badge status-pinned ms-2">Ghim</span>*@
                                </div>

                                <p class="forum-card-excerpt mb-3">
                                    @i.Body
                                </p>

                                <div class="mb-3">
                                    @foreach (var tag in i.Tags)
                                    {
                                        <span class="tag">@tag.TagName</span>

                                    }
                                </div>

                                <div class="forum-stats">
                                    <span><i class="bi bi-chat"></i> @i.Answer.Count</span>
                                    <span><i class="bi bi-eye"></i> 1250</span>
                                    <span><i class="bi bi-hand-thumbs-up"></i> 48</span>
                                    <span class="ms-auto"><i class="bi bi-clock"></i>@Forum.Helpers.DateTimeHelper.ConvertDateToString(i.CreateAt)</span>
                                </div>
                            </div>
                        </div>
                    </div>
                }


                @*Post 2 - Solved
                                <div class="forum-card">
                        <div class="d-flex gap-3">
                            <img src="https://images.unsplash.com/photo-1438761681033-6461ffad8d80?w=100&h=100&fit=crop"
                                 alt="User" class="user-avatar">
                            <div class="flex-grow-1">
                                <div class="d-flex justify-content-between align-items-start mb-2">
                                    <h5 class="forum-card-title mb-0">Cách sử dụng React Hooks hiệu quả nhất?</h5>
                                    <span class="status-badge status-solved ms-2">Đã giải quyết</span>
                                </div>

                                <p class="forum-card-excerpt mb-3">
                                    Mình là người mới học React và đang tìm hiểu về Hooks. Các bạn có thể chia sẻ best practices khi sử dụng useState và useEffect không?
                                </p>

                                <div class="mb-3">
                                    <span class="tag">React</span>
                                    <span class="tag">Hooks</span>
                                    <span class="tag">JavaScript</span>
                                </div>

                                <div class="forum-stats">
                                    <span><i class="bi bi-chat"></i> 15</span>
                                    <span><i class="bi bi-eye"></i> 890</span>
                                    <span><i class="bi bi-hand-thumbs-up"></i> 32</span>
                                    <span class="ms-auto"><i class="bi bi-clock"></i> 4 giờ trước</span>
                                </div>
                            </div>
                        </div>
                    </div>*@
                <!-- Post 3 -->
                <!--<div class="forum-card">
                    <div class="d-flex gap-3">
                        <img src="https://images.unsplash.com/photo-1500648767791-00dcc994a43e?w=100&h=100&fit=crop"
                             alt="User" class="user-avatar">
                        <div class="flex-grow-1">
                            <div class="d-flex justify-content-between align-items-start mb-2">
                                <h5 class="forum-card-title mb-0">Best practices cho việc quản lý state trong React</h5>
                            </div>

                            <p class="forum-card-excerpt mb-3">
                                Dự án của mình đang ngày càng phức tạp và việc quản lý state trở nên khó khăn. Nên sử dụng Context API, Redux hay Zustand?
                            </p>

                            <div class="mb-3">
                                <span class="tag">React</span>
                                <span class="tag">State Management</span>
                                <span class="tag">Redux</span>
                            </div>

                            <div class="forum-stats">
                                <span><i class="bi bi-chat"></i> 42</span>
                                <span><i class="bi bi-eye"></i> 2340</span>
                                <span><i class="bi bi-hand-thumbs-up"></i> 156</span>
                                <span class="ms-auto"><i class="bi bi-clock"></i> 1 ngày trước</span>
                            </div>
                        </div>
                    </div>
                </div>-->
                <!-- Load More -->
                <div class="text-center mt-4">
                    <button class="btn btn-outline-secondary">Tải thêm bài viết</button>
                </div>
            </div>
        </div>
    </main>
</div>